"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[394],{6394:function(e,s,n){n.r(s),n.d(s,{default:function(){return D}});var r=n(4165),o=n(5861),a=n(5671),t=n(3144),l=n(136),i=n(516),c=n(3531),u=n(2938),p=n(2791),g=n(2982),h="User_user__JPgfI",_="User_userLeft__EYIUU",f="User_userPic__zCQ6V",d="User_userFollow__RHb6T",m="User_userUnfollow__Etdqb",w="User_userRight__3vMJJ",x="User_userInfoTop__sqOUd",P="User_name__5v0xs",C="User_location__POdzQ",U="User_userInfoBot__cibpb",v="User_status__I2zbH",j=n(1087),N=(n(6304),n(184));function b(e){return(0,N.jsxs)("div",{className:h,children:[(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)(j.OL,{to:"/profile/".concat(e.id),children:(0,N.jsx)("img",{src:e.photo?e.photo:"img/avatar.png",alt:"face",className:f})}),(0,N.jsx)("button",{disabled:e.followingInProgress.some((function(s){return s===e.id})),onClick:function(){e.onChangeFollow(e.id)},className:e.follow?d:m,children:e.followingInProgress.some((function(s){return s===e.id}))?"Wait....":"".concat(e.follow?"Followed":"Unfollowed")})]}),(0,N.jsxs)("div",{className:w,children:[(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("p",{className:P,children:e.name}),(0,N.jsx)("p",{className:C,children:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f"})]}),(0,N.jsx)("div",{className:U,children:(0,N.jsx)("p",{className:v,children:"\u0421\u0442\u0430\u0442\u0443\u0441"})})]})]})}var k="Users_title__QQ6Rv",F="Users_usersList__SIvU9",S="Users_selectedPage__i44Wh",I="Users_userWrappwer__6AEIo",z="Users_moreUsers__ZteUZ",M="Users_pagesPaginator__XTYaY",T="Users_paginatorLeft__ly9FB",Z="Users_prevPages__56D7Y",y="Users_nextPages__sEKSS",L="Users_paginatorRight__aAQhg",Q=n(2138);function R(e){for(var s,n=e.props,r=e.onChangePage,o=e.onShowMore,a=e.onChangeFollow,t=n.usersInfo.map((function(e,s){return(0,N.jsx)(b,{id:e.id,follow:e.followed,name:e.name,followChanged:n.followChanged,onChangeFollow:a,followingInProgress:n.followingInProgress,photo:e.photos.small},s)})),l=Math.ceil(n.totalUsersCount/n.pageSize),i=p.createRef(),c=[],u=1;u<=l;u++)c.push(u);var h=n.curentPage;s=c.slice(h-1,h+4);var _=(0,g.Z)(Array(4));return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h3",{className:k,children:"Users"}),(0,N.jsxs)("div",{className:M,children:[(0,N.jsxs)("div",{className:T,children:[(0,N.jsx)("button",{disabled:1===h,onClick:function(){var e=null;e=h<6?h-1:s[0]-5,r(e)},className:Z,children:"Prev"}),s.map((function(e,s){return(0,N.jsx)("span",{onClick:function(s){r(e)},className:n.curentPage===e?S:"",children:e},s)})),(0,N.jsx)("button",{disabled:h+5>l,className:y,onClick:function(e){r(s[s.length-1]+1)},children:"Next"})]}),(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("input",{ref:i,type:"number",placeholder:"page..."}),(0,N.jsx)("button",{onClick:function(){var e=null;e=i.current.value>l?l:i.current.value<=0?1:i.current.value,r(Number(e))},children:"Go"}),(0,N.jsxs)("span",{children:["maxPage = ",l]})]})]}),n.isFetching?_.map((function(e,s){return(0,N.jsx)(Q.Z,{},s)})):(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:F,children:[(0,N.jsx)("div",{className:I,children:t}),(0,N.jsx)("button",{onClick:function(e){o(l)},className:z,children:"Show More"})]})})]})}n(5927);var A=n(7781),E=function(e){return e.usersPage.userInfo},Y=function(e){return e.usersPage.pageSize},q=function(e){return e.usersPage.totalUsersCount},J=function(e){return e.usersPage.curentPage},O=function(e){return e.usersPage.isFetching},W=function(e){return e.usersPage.followingInProgress},B=function(e){(0,l.Z)(n,e);var s=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return(e=s.call.apply(s,[this].concat(l))).onChangePage=function(s){e.props.changePageTC(s,e.props.pageSize)},e.onShowMore=function(){var s=(0,o.Z)((0,r.Z)().mark((function s(n){return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(n/2<e.props.curentPage)){s.next=6;break}return s.next=3,e.props.changePageTC(Math.ceil(e.props.curentPage/2),e.props.pageSize);case 3:e.props.showMoreTC(Math.ceil(e.props.curentPage),e.props.pageSize),s.next=7;break;case 6:e.props.showMoreTC(e.props.curentPage,e.props.pageSize);case 7:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),e.onChangeFollow=function(s){e.props.changeFollowTC(s)},e}return(0,t.Z)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.curentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,N.jsx)(R,{props:this.props,onChangePage:this.onChangePage,onShowMore:this.onShowMore,onChangeFollow:this.onChangeFollow})}}]),n}(p.Component),D=(0,A.qC)((0,c.$j)((function(e){return{usersInfo:E(e),pageSize:Y(e),totalUsersCount:q(e),curentPage:J(e),isFetching:O(e),followingInProgress:W(e)}}),{getUsersThunkCreator:u.Uk,changePageTC:u.FL,showMoreTC:u.Sf,changeFollowTC:u.c2}))(B)}}]);
//# sourceMappingURL=394.a7c6905d.chunk.js.map