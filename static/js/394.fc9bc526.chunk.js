"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[394],{6394:function(e,s,n){n.r(s),n.d(s,{default:function(){return K}});var r=n(4165),o=n(5861),a=n(5671),t=n(3144),l=n(136),i=n(516),c=n(3531),u=n(2938),p=n(2791),h=n(2982),g="User_user__JPgfI",d="User_userLeft__EYIUU",f="User_userPic__zCQ6V",_="User_userFollow__RHb6T",w="User_userUnfollow__Etdqb",x="User_userRight__3vMJJ",m="User_userInfoTop__sqOUd",U="User_name__5v0xs",v="User_location__POdzQ",C="User_userInfoBot__cibpb",P="User_status__I2zbH",j=n(1087),F=(n(6304),n(612)),S=n(184);function N(e){return(0,S.jsxs)("div",{className:g,children:[(0,S.jsxs)("div",{className:d,children:[(0,S.jsx)(j.OL,{to:"/profile/".concat(e.id),children:(0,S.jsx)("img",{src:e.photo?e.photo:F,alt:"face",className:f})}),(0,S.jsx)("button",{disabled:e.followingInProgress.some((function(s){return s===e.id}))||!e.isAuth,onClick:function(){e.onChangeFollow(e.id)},className:e.follow?_:w,children:e.followingInProgress.some((function(s){return s===e.id}))?"Wait....":"".concat(e.follow?"Followed":"Unfollowed")})]}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsxs)("div",{className:m,children:[(0,S.jsx)("p",{className:U,children:e.name}),(0,S.jsx)("p",{className:v,children:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f"})]}),(0,S.jsx)("div",{className:C,children:(0,S.jsx)("p",{className:P,children:e.status||"Without status"})})]})]})}var b="Users_title__QQ6Rv",k="Users_usersList__SIvU9",I="Users_selectedPage__i44Wh",T="Users_userWrappwer__6AEIo",z="Users_moreUsers__ZteUZ",M="Users_pagesPaginator__XTYaY",Z="Users_paginatorLeft__ly9FB",A="Users_prevPages__56D7Y",y="Users_nextPages__sEKSS",R="Users_paginatorRight__aAQhg",V="Users_usersSelector__T9fiH",L=n(2138);function Q(e){for(var s,n=e.props,r=e.onChangePage,o=e.onShowMore,a=e.onChangeFollow,t=e.onUsingSelectors,l=n.usersInfo.map((function(e,s){return(0,S.jsx)(N,{id:e.id,follow:e.followed,name:e.name,status:e.status,followChanged:n.followChanged,onChangeFollow:a,followingInProgress:n.followingInProgress,photo:e.photos.small,isAuth:n.isAuth},s)})),i=Math.ceil(n.totalUsersCount/n.pageSize),c=p.createRef(),u=[],g=1;g<=i;g++)u.push(g);var d=n.curentPage;s=u.slice(d-1,d+4);var f=(0,h.Z)(Array(4)),_=(0,p.useRef)(""),w=(0,p.useRef)(null);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h3",{className:b,children:"Users"}),(0,S.jsxs)("div",{className:M,children:[(0,S.jsxs)("div",{className:Z,children:[(0,S.jsx)("button",{disabled:1===d,onClick:function(){var e=null;e=d<6?d-1:s[0]-5,r(e)},className:A,children:"Prev"}),s.map((function(e,s){return(0,S.jsx)("span",{onClick:function(s){r(e)},className:n.curentPage===e?I:"",children:e},s)})),(0,S.jsx)("button",{disabled:d+5>i,className:y,onClick:function(e){r(s[s.length-1]+1)},children:"Next"})]}),(0,S.jsxs)("div",{className:R,children:[(0,S.jsx)("input",{ref:c,type:"number",placeholder:"page..."}),(0,S.jsx)("button",{onClick:function(){var e=null;e=c.current.value>i?i:c.current.value<=0?1:c.current.value,r(Number(e))},children:"Go"}),(0,S.jsxs)("span",{children:["maxPage = ",i]})]}),(0,S.jsxs)("div",{className:V,children:[(0,S.jsx)("input",{placeholder:"Name...",ref:_,type:"text"}),(0,S.jsxs)("select",{name:"isFriends",ref:w,children:[(0,S.jsx)("option",{value:"null",children:"All"}),(0,S.jsx)("option",{value:"true",children:"Followed"}),(0,S.jsx)("option",{value:"false",children:"Unfollowed"})]}),(0,S.jsx)("button",{onClick:function(){return function(e,s){t(e,s)}(_.current.value,w.current.value)},children:"Find"})]})]}),n.isFetching?f.map((function(e,s){return(0,S.jsx)(L.Z,{},s)})):(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:k,children:[(0,S.jsx)("div",{className:T,children:l}),(0,S.jsx)("button",{onClick:function(e){o(i)},className:z,children:"Show More"})]})})]})}n(5927);var E=n(7781),J=function(e){return e.usersPage.userInfo},W=function(e){return e.usersPage.pageSize},Y=function(e){return e.usersPage.totalUsersCount},q=function(e){return e.usersPage.curentPage},H=function(e){return e.usersPage.isFetching},O=function(e){return e.usersPage.followingInProgress},B=function(e){return e.usersPage.isFollowed},D=function(e){return e.usersPage.searchInputValue},G=function(e){(0,l.Z)(n,e);var s=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return(e=s.call.apply(s,[this].concat(l))).onChangePage=function(s){e.props.changePageTC(s,e.props.pageSize,e.props.isFollowed,e.props.searchInputValue)},e.onShowMore=function(){var s=(0,o.Z)((0,r.Z)().mark((function s(n){return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(n/2<e.props.curentPage)){s.next=6;break}return s.next=3,e.props.changePageTC(Math.ceil(e.props.curentPage/2),e.props.pageSize);case 3:e.props.showMoreTC(Math.ceil(e.props.curentPage),e.props.pageSize,e.props.isFollowed,e.props.searchInputValue),s.next=7;break;case 6:e.props.showMoreTC(e.props.curentPage,e.props.pageSize,e.props.isFollowed,e.props.searchInputValue);case 7:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),e.onUsingSelectors=function(s,n){e.props.useSelectorsTC(s,n,e.props.pageSize)},e.onChangeFollow=function(s){e.props.changeFollowTC(s,e.props.isFollowed,e.props.pageSize)},e}return(0,t.Z)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.curentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,S.jsx)(Q,{props:this.props,onChangePage:this.onChangePage,onShowMore:this.onShowMore,onChangeFollow:this.onChangeFollow,onUsingSelectors:this.onUsingSelectors})}}]),n}(p.Component),K=(0,E.qC)((0,c.$j)((function(e){return{usersInfo:J(e),pageSize:W(e),totalUsersCount:Y(e),curentPage:q(e),isFollowed:B(e),searchInputValue:D(e),isFetching:H(e),followingInProgress:O(e),isAuth:e.auth.isAuth}}),{getUsersThunkCreator:u.Uk,changePageTC:u.FL,showMoreTC:u.Sf,changeFollowTC:u.c2,useSelectorsTC:u.kJ}))(G)}}]);
//# sourceMappingURL=394.fc9bc526.chunk.js.map